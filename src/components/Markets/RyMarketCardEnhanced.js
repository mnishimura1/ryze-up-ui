import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
export const RyMarketCardEnhanced = ({ market }) => {
    const [showDepth, setShowDepth] = useState(false);
    const totalBidVolume = market.depth.bids.reduce((sum, [_, vol]) => sum + vol, 0);
    const totalAskVolume = market.depth.asks.reduce((sum, [_, vol]) => sum + vol, 0);
    const maxVolume = Math.max(totalBidVolume, totalAskVolume, 1);
    return (_jsxs("div", { className: "p-4 rounded border border-dark-border bg-dark-panel hover:border-accent transition cursor-pointer", onMouseEnter: () => setShowDepth(true), onMouseLeave: () => setShowDepth(false), children: [_jsxs("div", { className: "flex justify-between items-start mb-3", children: [_jsxs("div", { children: [_jsx("div", { className: "font-bold text-dark-text", children: market.symbol }), _jsxs("div", { className: "text-2xl font-bold text-accent", children: ["$", market.price.toFixed(2)] })] }), _jsxs("div", { className: `text-sm font-semibold ${market.change24h > 0 ? 'text-success' : 'text-danger'}`, children: [market.change24h > 0 ? '+' : '', market.change24h.toFixed(2), "%"] })] }), _jsxs("div", { className: "grid grid-cols-2 gap-2 mb-3 text-xs text-dark-text/70", children: [_jsxs("div", { children: [_jsx("div", { className: "text-dark-text/50", children: "Vol 24h" }), _jsxs("div", { className: "font-mono", children: ["$", (market.volume24h / 1e6).toFixed(2), "M"] })] }), _jsxs("div", { children: [_jsx("div", { className: "text-dark-text/50", children: "Latency" }), _jsxs("div", { className: "font-mono text-success", children: [market.latency, "ms"] })] })] }), _jsxs("div", { className: "flex flex-wrap gap-1 mb-3", children: [market.venues.slice(0, 3).map((venue) => (_jsx("span", { className: "text-xs px-2 py-0.5 rounded bg-accent/20 text-accent font-semibold", children: venue }, venue))), market.venues.length > 3 && (_jsxs("span", { className: "text-xs px-2 py-0.5 rounded bg-dark-border text-dark-text/70 font-semibold", children: ["+", market.venues.length - 3] }))] }), showDepth && (_jsxs("div", { className: "p-3 bg-dark-bg rounded border border-accent/30 space-y-2 text-xs", children: [_jsx("div", { className: "font-semibold text-dark-text mb-2", children: "Order Book Depth" }), _jsxs("div", { children: [_jsxs("div", { className: "text-success mb-1", children: ["Bids: $", totalBidVolume.toFixed(2)] }), market.depth.bids.slice(0, 3).map((bid, idx) => (_jsxs("div", { className: "flex justify-between text-dark-text/70", children: [_jsxs("span", { className: "font-mono", children: ["$", bid[0].toFixed(2)] }), _jsx("div", { className: "flex-1 mx-2 h-1 bg-dark-border rounded-full overflow-hidden", children: _jsx("div", { className: "h-full bg-success", style: { width: `${(bid[1] / maxVolume) * 100}%` } }) }), _jsx("span", { className: "font-mono w-12 text-right", children: bid[1].toFixed(2) })] }, idx)))] }), _jsxs("div", { children: [_jsxs("div", { className: "text-danger mb-1", children: ["Asks: $", totalAskVolume.toFixed(2)] }), market.depth.asks.slice(0, 3).map((ask, idx) => (_jsxs("div", { className: "flex justify-between text-dark-text/70", children: [_jsxs("span", { className: "font-mono", children: ["$", ask[0].toFixed(2)] }), _jsx("div", { className: "flex-1 mx-2 h-1 bg-dark-border rounded-full overflow-hidden", children: _jsx("div", { className: "h-full bg-danger", style: { width: `${(ask[1] / maxVolume) * 100}%` } }) }), _jsx("span", { className: "font-mono w-12 text-right", children: ask[1].toFixed(2) })] }, idx)))] }), _jsxs("div", { className: "pt-2 border-t border-dark-border flex justify-between", children: [_jsx("span", { className: "text-dark-text/70", children: "Spread:" }), _jsxs("span", { className: "font-mono font-semibold", children: [((market.depth.asks[0][0] - market.depth.bids[0][0]) / market.price * 100).toFixed(2), "%"] })] })] }))] }));
};
